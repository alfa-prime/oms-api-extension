# ===================================================================
#          Конфигурация приложения "ЕВМИАС -> ОМС"
# ===================================================================
# Этот файл является шаблоном. Скопируйте его в .env (для разработки)
# или .prod.env (для продакшена) и заполните своими значениями.
# ===================================================================


# === Параметры подключения к ЕВМИАС ===
# Основной URL для всех API-запросов к ЕВМИАС.
BASE_URL=https://evmias.fmba.gov.ru/
# Заголовок 'Origin', необходимый для имитации запросов браузера.
BASE_HEADERS_ORIGIN_URL=https://evmias.fmba.gov.ru
# Заголовок 'Referer', также используемый для имитации запросов.
BASE_HEADERS_REFERER_URL=https://evmias.fmba.gov.ru/?c=promed


# === Учетные данные для аутентификации в ЕВМИАС ===
# Логин пользователя для входа в систему.
EVMIAS_LOGIN=your_login
# Пароль пользователя.
EVMIAS_PASSWORD=your_password
# Статический токен GWT-пермутации, получается при анализе трафика браузера.
EVMIAS_PERMUTATION=your_permutation
# Закодированное тело запроса для получения финальных cookies (GWT-токен).
EVMIAS_SECRET=your_secret


# === Параметры бизнес-логики приложения ===
# Реестровый номер медицинской организации, от имени которой работает приложение (например, ММЦ Пирогова).
MO_REGISTRY_NUMBER=00556400
# ID ЛПУ (Лечебно-профилактическое учреждение) в системе ЕВМИАС.
LPU_ID=13102423
# Год, используемый для фильтрации данных, например, при расчете КСГ.
KSG_YEAR=2025
# Дата, используемая как начало периода по умолчанию при поиске госпитализаций (формат ДД.ММ.ГГГГ).
SEARCH_PERIOD_START_DATE=01.01.2025


# === Настройки Redis для кэширования сессий ===
# Хост Redis. Для Docker Compose используйте имя сервиса (например, "redis").
REDIS_HOST=redis
# Стандартный порт Redis.
REDIS_PORT=6379
# Номер базы данных Redis для изоляции данных (от 0 до 15).
REDIS_DB=0
# Ключ в Redis, по которому будет храниться JSON-объект с сессионными cookies.
REDIS_COOKIES_KEY="evmias_session_cookies"
# Время жизни (TTL) для ключа с cookies в секундах (86400 = 24 часа).
REDIS_COOKIES_TTL=86400


# === Настройки безопасности и отладки ===
# Регулярное выражение для CORS, разрешающее доступ с любого локально установленного расширения Chrome.
# В продакшене можно заменить на конкретный ID: r"^chrome-extension://your_extension_id_here$"
CORS_ALLOW_REGEX=r"^chrome-extension://[a-z]{32}$"
# Уровень логирования (DEBUG, INFO, WARNING, ERROR, CRITICAL). Для продакшена рекомендуется INFO.
LOGS_LEVEL=INFO
# Включить (true) или выключить (false) детальное логирование HTTP-запросов.
DEBUG_HTTP=false
# Включить (true) или выключить (false) отладочные роуты и их логирование.
DEBUG_ROUTE=false


# === Параметры для формирования XML (ТФОМС) ===
# Код медицинской организации для выгрузки в ТФОМС. Может совпадать с MO_REGISTRY_NUMBER.
MO_CODE_ERMO=00556400